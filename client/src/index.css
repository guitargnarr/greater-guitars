@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-border: var(--border);
  --font-display: "Clash Display", "Arial Black", sans-serif;
  --font-body: "Instrument Serif", Georgia, serif;
  --font-mono: "DM Mono", "Courier New", monospace;
  /* Zine Shop palette */
  --color-newsprint: #f2efe8;
  --color-ink: #1a1a18;
  --color-orange: #ff5e1a;
  --color-olive: #5a6b4f;
  --color-mid: #8a8580;
}

:root {
  --background: #f2efe8;
  --foreground: #1a1a18;
  --primary: #ff5e1a;
  --primary-foreground: #f2efe8;
  --muted: #e8e4db;
  --muted-foreground: #8a8580;
  --accent: #5a6b4f;
  --accent-foreground: #f2efe8;
  --border: #d4d0c8;
  --newsprint: #f2efe8;
  --ink: #1a1a18;
  --orange: #ff5e1a;
  --olive: #5a6b4f;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: "Instrument Serif", Georgia, serif;
    overflow-x: hidden;
  }
  h1, h2, h3, h4 {
    font-family: "Clash Display", "Arial Black", sans-serif;
  }
}

/* Halftone dot pattern — zine texture */
.halftone-bg {
  position: relative;
}
.halftone-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.10;
  pointer-events: none;
  background-image: radial-gradient(circle, #1a1a18 0.8px, transparent 0.8px);
  background-size: 10px 10px;
}

/* Dark halftone for dark sections */
.halftone-dark::before {
  opacity: 0.06;
  background-image: radial-gradient(circle, rgba(242, 239, 232, 0.5) 0.5px, transparent 0.5px);
  background-size: 8px 8px;
}

/* Scrollbar — minimal */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: var(--newsprint); }
::-webkit-scrollbar-thumb { background: #c8c4bb; border-radius: 2px; }
::-webkit-scrollbar-thumb:hover { background: var(--orange); }

/* Smooth scroll for mouse users only */
@media (pointer: fine) {
  html { scroll-behavior: smooth; }
}

/* Mobile optimizations */
html, body {
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

canvas, button {
  -webkit-tap-highlight-color: transparent;
}

@media (pointer: coarse) {
  body { -webkit-user-select: none; user-select: none; }
  ::-webkit-scrollbar { display: none; }
  html { scrollbar-width: none; }
}

/* iOS viewport */
@supports (-webkit-touch-callout: none) {
  .fixed { height: 100dvh; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  html { scroll-behavior: auto; }
}

/* Animations — snappy, decisive */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes snapIn {
  from { opacity: 0; transform: translateY(15px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

/* Lightbox */
.lightbox-overlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  background: rgba(26, 26, 24, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  animation: fadeIn 0.3s ease both;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.lightbox-overlay img {
  max-width: 90vw;
  max-height: 85vh;
  object-fit: contain;
  border: 2px solid var(--orange);
  box-shadow: 0 40px 120px -20px rgba(0,0,0,0.5);
  animation: snapIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

/* Orange tag/badge */
.tag-orange {
  display: inline-block;
  background: var(--orange);
  color: var(--newsprint);
  font-family: "DM Mono", monospace;
  font-size: 0.65rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  padding: 0.2rem 0.6rem;
  line-height: 1;
}

/* Torn paper edge — top */
.torn-edge-top {
  position: relative;
}
.torn-edge-top::before {
  content: '';
  position: absolute;
  top: -3px;
  left: 0;
  right: 0;
  height: 6px;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 1200 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 3 Q10 0 20 3 Q30 6 40 3 Q50 0 60 3 Q70 6 80 3 Q90 0 100 3 Q110 5 120 3 Q130 1 140 3 Q150 5 160 3 Q170 0 180 3 Q190 6 200 3 Q210 1 220 3 Q230 5 240 3 Q250 0 260 3 Q270 6 280 3 Q290 1 300 3 Q310 5 320 3 Q330 0 340 3 Q350 5 360 3 Q370 1 380 3 Q390 6 400 3 Q410 0 420 3 Q430 5 440 3 Q450 1 460 3 Q470 6 480 3 Q490 0 500 3 Q510 5 520 3 Q530 1 540 3 Q550 5 560 3 Q570 0 580 3 Q590 6 600 3 Q610 0 620 3 Q630 5 640 3 Q650 1 660 3 Q670 6 680 3 Q690 0 700 3 Q710 5 720 3 Q730 1 740 3 Q750 6 760 3 Q770 0 780 3 Q790 5 800 3 Q810 1 820 3 Q830 6 840 3 Q850 0 860 3 Q870 5 880 3 Q890 1 900 3 Q910 5 920 3 Q930 0 940 3 Q950 6 960 3 Q970 1 980 3 Q990 5 1000 3 Q1010 0 1020 3 Q1030 6 1040 3 Q1050 1 1060 3 Q1070 5 1080 3 Q1090 0 1100 3 Q1110 6 1120 3 Q1130 1 1140 3 Q1150 5 1160 3 Q1170 0 1180 3 Q1190 6 1200 3' fill='none' stroke='%23d4d0c8' stroke-width='1'/%3E%3C/svg%3E") repeat-x;
  background-size: 1200px 6px;
  pointer-events: none;
}
